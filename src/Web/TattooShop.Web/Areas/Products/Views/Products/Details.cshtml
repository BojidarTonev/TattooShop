@using TattooShop.Services.Contracts
@model Product
@inject IProductsService _productsService;

@{
    string style = @Model.Category.ToString();
    var similarProducts = this._productsService.OtherSimilar(style);
}

<section class="probootstrap-slider flexslider">
    <ul class="slides">
        <li style="background-image: url(@Model.ImageUrl);" class="overlay2">
            <div class="container">
                <div class="row">
                    <div class="col-md-12 text-center">
                        <div class="slides-text probootstrap-animate" data-animate-effect="fadeIn">
                            <h2>@Model.Name</h2>
                            <h3>@Model.Description</h3>
                            <h4>Price: $@Model.Price</h4>
                            <br />
                            <a asp-controller="Orders" asp-action="MakeOrder" class="btn btn-success">Order?</a>
                        </div>
                    </div>
                </div>
            </div>
        </li>
    </ul>
</section>
<hr />
<div class="container">
    <div class="row">
        <div class="col-lg-9">
            <div class="card card-outline-secondary my-4">
                <div class="card-header text-center">
                    <h1>Other similar products:</h1>
                </div>
                <br />
                @foreach (var product in similarProducts)
                {
                    <div class="col-md-4 probootstrap-animate ">
                        <div class="probootstrap-card with-hover">
                            <div class="probootstrap-card-media">
                                <a asp-area="Products" asp-controller="Products" asp-action="Details" asp-route-id="@product.Id"><img src="@product.ImageUrl" class="img-responsive img-border image_css"></a>
                            </div>
                            <div class="probootstrap-card-text">
                                <h2 class="probootstrap-card-heading mb0">@product.Name</h2>
                                <p class="category">@product.Category</p>
                                <p><a asp-area="Products" asp-controller="Products" asp-action="Details" asp-route-id="@product.Id">View details</a></p>
                            </div>
                        </div>
                    </div>
                }
            </div>
        </div>
    </div>
</div>
